<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Contact Manager</title>
  <link rel="stylesheet" href="/stylesheets/reset.css" />
	<link href="https://fonts.googleapis.com/css?family=Lato:300,400" rel="stylesheet">
	<link rel="stylesheet" href="/stylesheets/main.css" />
	<script src="/javascripts/underscore.js"></script>
  <script src="/javascripts/jquery.js"></script>
  <script src="/javascripts/handlebars.js"></script>
  <script src="/javascripts/application.js"></script>  
</head>
<body>
	<header class="flex-container">
		<h1>Contact Manager</h1>
		<p>Using jQuery, Handlebars and Flexbox</p>
	</header>

	<main>
		<section class="menu flex-container">
			<button id="add">Add Contact</button>
			<input id="searchbar" type="text" placeholder="&#128269 search by name" />
			<div class="wrap">
				<span>Filter by:</span>
				<ul id="toggle_tags"></ul>
			</div>
		</section>

		<section class="contacts_list">
			<ul></ul>
		</section>

		<form class="contact_form" method="post" action="/api/contacts/" novalidate>
			<fieldset>
				<h2><!-- Add or update contact --></h2>
				<dl>
					<dt><label for="name">Full name:</label></dt>
					<dd>
						<input id="name" type="text" name="full_name" required/><small></small>
					</dd>
				</dl>

				<dl>
					<dt><label for="email">Email address:</label></dt>
					<dd>
						<input id="email" type="email" name="email" required />
						<small></small>
					</dd>
				</dl>

				<dl>
					<dt><label for="phone">Telephone number:</label></dt>
					<dd>
						<input id="phone" type="tel" name="phone_number" maxlength="15" required />
						<small></small>
					</dd>
				</dl>

				<dl class="tags">
					<dt>Select Tags:</dt>
					<dd><ul id="input_tags"></ul></dd>
				</dl>

				<dl>
					<dt class="placeholder"></dt>
					<dd class="submit">
						<button id="update" data-id="" type="submit">Update</button>
						<button id="create" type="submit">Create</button>
						<button type="button" class="cancel">Cancel</button>
					</dd>
				</dl>
			</fieldset>
		</form>
	</main>

	<footer>
		<div class="upper-border"></div>
		<small>By Ying Chyi Gooi</small>
	</footer>

	<script id="tag_fields" class="partial" type="text/x-handlebars">
		{{#each fields}}
		<li>
			<label>
				<input type="checkbox" name="tags" value="{{.}}" />{{.}}
			</label>
		</li>
		{{/each}}
	</script>

	<script id="contacts" type="text/x-handlebars">
		{{#each contacts}}
		<li>
			<h2>{{full_name}}</h2>
			<dl>
				<dt>Phone Number</dt>
				<dd>{{phone_number}}</dd>

				<dt>Email</dt>
				<dd>{{email}}</dd>

				<dt>Tags</dt>
				{{#if tags}}
				<dd>{{tags}}</dd>
				{{else}}
				<dd>not tagged</dd>
				{{/if}}
			</dl>

			<button type="button" class="edit" data-id={{id}}>Edit</button>
			<button type="button" class="delete" data-id={{id}} data-name={{full_name}}>Delete</button>
		</li>
		{{/each}}
	</script>

	<script id="no_contacts" type="text/x-handlebars">
		<li class="message">
			{{#if query}}
			<p>There are no contacts with the selected tags starting with <strong>{{query}}</strong>.</p>
			{{else}}
			<p>No contacts found with the selected tags.</p>
			{{/if}}
		</li>
	</script>
</body>

</html>
